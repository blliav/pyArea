<Window xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Define pyArea Schema - Hierarchy Manager" 
        Width="1000" Height="750"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        ShowInTaskbar="False">
    
    <Window.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="28"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="28"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinWidth" Value="80"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="0,5,0,5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>
    
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="350"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        
        <!-- LEFT PANEL: Tree Hierarchy -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Tree Header -->
            <TextBlock Grid.Row="0" Text="Project Hierarchy" FontSize="14" FontWeight="Bold" Margin="0,0,0,10"/>
            
            <!-- Tree View -->
            <Border Grid.Row="1" BorderBrush="LightGray" BorderThickness="1" Margin="0,0,0,10">
                <TreeView x:Name="tree_hierarchy" Padding="5">
                    <TreeView.ItemTemplate>
                        <HierarchicalDataTemplate ItemsSource="{Binding Children}">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="{Binding Icon}" Margin="0,0,5,0" FontFamily="Segoe UI Symbol"/>
                                <TextBlock Text="{Binding DisplayName}" FontWeight="{Binding FontWeight}"/>
                                <TextBlock Text="{Binding Status}" Margin="5,0,0,0" Foreground="Gray" FontStyle="Italic"/>
                            </StackPanel>
                        </HierarchicalDataTemplate>
                    </TreeView.ItemTemplate>
                </TreeView>
            </Border>
            
            <!-- Action Buttons -->
            <StackPanel Grid.Row="2" Orientation="Horizontal">
                <Button x:Name="btn_add" Content="âž• Add" ToolTip="Add new element"/>
                <Button x:Name="btn_remove" Content="ðŸ—‘ Remove" ToolTip="Remove data from selected element"/>
                <Button x:Name="btn_refresh" Content="ðŸ”„ Refresh" ToolTip="Refresh from Revit"/>
            </StackPanel>
        </Grid>
        
        <!-- SPLITTER -->
        <GridSplitter Grid.Column="1" Width="5" HorizontalAlignment="Stretch" Background="LightGray"/>
        
        <!-- RIGHT PANEL: Properties -->
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Element Information -->
            <GroupBox Grid.Row="0" Header="Element Information" Padding="5" Margin="0,0,0,5">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Element Type:"/>
                    <TextBlock Grid.Row="0" Grid.Column="1" x:Name="text_element_type" 
                               Text="None selected" FontWeight="Bold"/>
                    
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Element Name:" Margin="0,3,0,0"/>
                    <TextBlock Grid.Row="1" Grid.Column="1" x:Name="text_element_name" 
                               Text="" Margin="0,3,0,0" FontWeight="Bold" Foreground="DarkBlue"/>
                </Grid>
            </GroupBox>
            
            <!-- Municipality Information (for Sheet/AreaPlan) -->
            <GroupBox Grid.Row="1" x:Name="group_municipality" Header="Municipality" Padding="5" Margin="0,0,0,5" Visibility="Collapsed">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="100"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <TextBlock Grid.Column="0" Text="Municipality:"/>
                    <TextBlock Grid.Column="1" x:Name="text_municipality" 
                               Text="Not detected" FontWeight="Bold" Foreground="DarkGreen"/>
                </Grid>
            </GroupBox>
            
            <!-- Data Fields -->
            <GroupBox Grid.Row="2" Header="Data Fields" Padding="5" Margin="0,0,0,5">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel x:Name="panel_fields">
                        <TextBlock Text="Select an element from the tree to edit its properties" 
                                   FontStyle="Italic" Foreground="Gray"/>
                    </StackPanel>
                </ScrollViewer>
            </GroupBox>
            
            <!-- JSON Data Viewer -->
            <GroupBox Grid.Row="3" Header="JSON Data" Padding="5" Margin="0,0,0,5">
                <Border BorderThickness="1" BorderBrush="LightGray" Height="120">
                    <TextBox x:Name="text_json" 
                             Text="Select an element to view its JSON data..." 
                             Foreground="Gray" Background="White"
                             IsReadOnly="True" BorderThickness="0"
                             FontFamily="Consolas" FontSize="10"
                             VerticalScrollBarVisibility="Auto"
                             HorizontalScrollBarVisibility="Auto"
                             AcceptsReturn="True"
                             TextWrapping="NoWrap"
                             VerticalAlignment="Stretch"
                             HorizontalAlignment="Stretch"
                             Height="Auto"
                             Margin="0"
                             Padding="5"/>
                </Border>
            </GroupBox>
            
            <!-- Action Buttons -->
            <Grid Grid.Row="4">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <Button Grid.Column="1" x:Name="btn_close" Content="Close" IsCancel="True"/>
            </Grid>
        </Grid>
    </Grid>
</Window>
